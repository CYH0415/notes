## Binary Relation
- **Definition**: AÂ **binary relation**Â ğ‘…Â from a setÂ ğ´Â to a setÂ ğµÂ is a subset ofÂ ğ´Ã—ğµ
    - ğ‘…âŠ†ğ´Ã—ğµ
    - ğ‘…={(ğ‘,ğ‘)âˆ£ğ‘âˆˆğ´,ğ‘âˆˆğµ,ğ‘ğ‘…ğ‘}

## Relation on a Set

- **Definition**: A relation on a setÂ ğ´Â is a relation fromÂ ğ´Â toÂ ğ´, a.k.a. a relation on a set A is a subset ofÂ ğ´Ã—ğ´
    - ğ‘…âŠ†ğ´Ã—ğ´
- How many binary relations are there on a setÂ ğ´Â withÂ ğ‘›Â elements? -Â 2ğ‘›2

## Representing Relations

[2D Table](https://oneko.zone/zju/dm/ch9/#__tabbed_1_1)[Connection Matrix](https://oneko.zone/zju/dm/ch9/#__tabbed_1_2)[Directed graph/Digraph](https://oneko.zone/zju/dm/ch9/#__tabbed_1_3)

![BKSA6k](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/BKSA6k.png)

## Special Properties of Binary Relations

> è‹¥æ— ç‰¹æ®Šè¯´æ˜ï¼Œåœ¨è¯´æ˜æ€§è´¨æ—¶ï¼Œå‡æ˜¯Â ğ‘›Â å…ƒé›†ä¸Šçš„å…³ç³»

[Reflexive (è‡ªå) & Irreflexive (åè‡ªå)](https://oneko.zone/zju/dm/ch9/#__tabbed_2_1)[Symmetric (å¯¹ç§°)](https://oneko.zone/zju/dm/ch9/#__tabbed_2_2)[Antisymmetric (åå¯¹ç§°)](https://oneko.zone/zju/dm/ch9/#__tabbed_2_3)[Asymmetric (éå¯¹ç§°)](https://oneko.zone/zju/dm/ch9/#__tabbed_2_4)[Transitive (ä¼ é€’)](https://oneko.zone/zju/dm/ch9/#__tabbed_2_5)

- Reflexive (è‡ªå)
    - (ğ‘¥,ğ‘¥)âˆˆğ‘…, for elementÂ ğ‘¥âˆˆğ´
    - âˆ€ğ‘¥(ğ‘¥âˆˆğ´â†’(ğ‘¥,ğ‘¥)âˆˆğ´)
    - è‡ªåå…³ç³»ä¸ªæ•°ä¸ºï¼š2ğ‘›2âˆ’ğ‘›

---

- Irreflexive (åè‡ªå)
    - âˆ€ğ‘¥(ğ‘¥âˆˆğ´â†’(ğ‘¥,ğ‘¥)âˆ‰ğ´)
    - åè‡ªåå…³ç³»ä¸ªæ•°ï¼š2ğ‘›2âˆ’ğ‘›
    - ä¸€ä¸ªå…³ç³»å¯ä»¥æ—¢ä¸æ˜¯ reflexive ä¹Ÿä¸æ˜¯ irreflexiveï¼Œæœ‰Â 2ğ‘›2âˆ’2â‹…2ğ‘›2âˆ’ğ‘›

---

- ğ‘…1,ğ‘…2Â reflexive
    - ğ‘…1âˆªğ‘…2,ğ‘…1âˆ©ğ‘…2,ğ‘…1âˆ˜ğ‘…2Â reflexive
    - ğ‘…1âŠ•ğ‘…2,ğ‘…1âˆ’ğ‘…2Â irreflexive

## Combining Relations

- ğ´Â åˆ°Â ğµÂ çš„å…³ç³»æ˜¯Â ğ´Ã—ğµÂ çš„å­é›†ï¼Œä»»æ„ä¸¤ä¸ªÂ ğ´Â åˆ°Â ğµÂ çš„å…³ç³»ä¹Ÿå¯ä»¥ç”¨é›†åˆè¿ç®—ç¬¦è¿æ¥
- âˆª,âˆ©,âŠ•,âˆ’,Â¯

### Composition -Â ğ‘†âˆ˜ğ‘…

- ğ‘…={(ğ‘,ğ‘)âˆ£ğ‘âˆˆğ´,ğ‘âˆˆğµ,ğ‘ğ‘…ğ‘},ğ‘†={(ğ‘,ğ‘)âˆ£ğ‘âˆˆğµ,ğ‘âˆˆğ¶,ğ‘ğ‘†ğ‘}
- ğ‘†âˆ˜ğ‘…={(ğ‘,ğ‘)âˆ£ğ‘âˆˆğ´âˆ§ğ‘âˆˆğ¶âˆ§âˆƒğ‘(ğ‘âˆˆğµâˆ§ğ‘ğ‘…ğ‘âˆ§ğ‘ğ‘†ğ‘}
- ğ‘†âˆ˜ğ‘…â‰ ğ‘…âˆ˜ğ‘†
- ==ğ‘†âˆ˜ğ‘…=ğ‘€ğ‘…â‹…ğ‘€ğ‘†==
- å¦‚ä½•è®¡ç®—ï¼Ÿ
    - æŒ‰å®šä¹‰ç›´æ¥å¤åˆ
    - å…³ç³»çŸ©é˜µåšä¹˜æ³•
- ğ‘…ğ‘›Â is defined by:Â ğ‘…1=ğ‘…,Â ğ‘…ğ‘›+1=ğ‘…ğ‘›âˆ˜ğ‘…
- **[Theorem]**Â The relationÂ ğ‘…Â on a set A is transitive iffÂ ğ‘…ğ‘›âŠ†ğ‘…,Â ğ‘›=1,2,3,...

Proof

![3GPI7g](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/3GPI7g.png)

### Inverse -Â ğ‘…âˆ’1

- ğ‘…={(ğ‘,ğ‘)âˆ£ğ‘âˆˆğ´,ğ‘âˆˆğµ,ğ‘ğ‘…ğ‘}
- ğ‘…âˆ’1=ğ‘…={(ğ‘,ğ‘)âˆ£(ğ‘,ğ‘)âˆˆğ‘…,ğ‘âˆˆğ´,ğ‘âˆˆğµ,ğ‘ğ‘…ğ‘}
- å¦‚ä½•è®¡ç®—ï¼Ÿ
    - ç”±å®šä¹‰ç›´æ¥è®¡ç®—
    - å…³ç³»çŸ©é˜µè½¬ç½®

### Properties

> - Suppose thatÂ ğ‘…,ğ‘†Â are the relations fromÂ ğ´Â toÂ ğµ
> - ğ‘‡Â is the relation fromÂ ğµÂ toÂ ğ¶
> - ğ‘ƒÂ is the relation fromÂ ğ¶Â toÂ ğ·

- (ğ‘…âˆªğ‘†)âˆ’1=ğ‘…âˆ’1âˆªğ‘†âˆ’1
- (ğ‘…Â¯)âˆ’1=ğ‘…âˆ’1Â¯
- (ğ‘…âˆ’ğ‘†)âˆ’1=ğ‘…âˆ’1âˆ’ğ‘†âˆ’1
- (ğ´Ã—ğµ)âˆ’1=ğµÃ—ğ´
- ğ‘…Â¯=ğ´Ã—ğµâˆ’ğ‘…
- (ğ‘†âˆ˜ğ‘‡)âˆ’1=ğ‘‡âˆ’1âˆ˜ğ‘†âˆ’1
- (ğ‘…âˆ˜ğ‘‡)âˆ˜ğ‘ƒ=ğ‘…âˆ˜(ğ‘‡âˆ˜ğ‘ƒ)
- (ğ‘…âˆªğ‘†)âˆ˜ğ‘‡=ğ‘…âˆ˜ğ‘‡âˆªğ‘†âˆ˜ğ‘‡

## Closures of Relations (å…³ç³»é—­åŒ…)

- **å®šä¹‰**ï¼šR æ˜¯é›†åˆ A ä¸Šçš„å…³ç³»ã€‚R å¯èƒ½å…·æœ‰æˆ–è€…ä¸å…·æœ‰æŸäº›æ€§è´¨ Pï¼Œä¾‹å¦‚è‡ªåæ€§ã€å¯¹ç§°æ€§æˆ–ä¼ é€’æ€§ã€‚å¦‚æœå­˜åœ¨åŒ…å«R çš„å…·æœ‰æ€§è´¨ P çš„å…³ç³» Sï¼Œå¹¶ä¸” S æ˜¯æ‰€æœ‰åŒ…å« R ä¸”å…·æœ‰æ€§è´¨ P çš„å…³ç³»çš„å­é›†ï¼Œé‚£ä¹ˆ S å«åš R çš„å…³äºæ€§è´¨ P çš„é—­åŒ…

[Reflexive Closure (è‡ªåé—­åŒ…)](https://oneko.zone/zju/dm/ch9/#__tabbed_3_1)[Symmetric Closure (å¯¹ç§°é—­åŒ…)](https://oneko.zone/zju/dm/ch9/#__tabbed_3_2)[Transitive Closure (ä¼ é€’é—­åŒ…)](https://oneko.zone/zju/dm/ch9/#__tabbed_3_3)

- ğ‘Ÿ(ğ‘…)=ğ‘…âˆªğ¼ğ´,ğ¼ğ´={(ğ‘¥,ğ‘¥)âˆ£ğ‘¥âˆˆğ´}
- ğ‘…=ğ‘…âˆªğ¼ğ´â‡”ğ‘…Â is reflexive

### How to Compute t(R)?

[æš´åŠ›æ±‚è§£](https://oneko.zone/zju/dm/ch9/#__tabbed_4_1)
[==Warshall's Algorithm (æ²ƒèˆå°”ç®—æ³•ï¼Œæ±‚è§£Â ğ‘¡(ğ‘…))==](https://oneko.zone/zju/dm/ch9/#__tabbed_4_2)

- æ—¶é—´å¤æ‚åº¦ä¸ºï¼šğ‘‚(ğ‘›â‹…(ğ‘›3+ğ‘›))=ğ‘‚(ğ‘›4)

## Equivalence Relations)

- **Definition**: reflexive & symmetric & transitive
- ğ‘âˆ¼ğ‘:Â ğ‘Â andÂ ğ‘Â are equivalent
- [ğ‘¥]ğ‘…,[ğ‘¥]: the equivalence class ofÂ ğ‘¥
- **Theorem**Â ğ‘…Â is an equivalence relation on a setÂ ğ´, thenÂ ğ‘ğ‘…ğ‘â‡”[ğ‘]=[ğ‘]â‡”[ğ‘]âˆ©[ğ‘]â‰ âˆ…

## Partitions

- Partition (åˆ’åˆ†) å³å°†ä¸€ä¸ªé›†åˆåˆ’åˆ†ä¸ºä¸¤ä¸¤äº’ä¸ç›¸äº¤çš„éç©ºå­é›†ï¼Œå…¶å¹¶é›†ä¸ºåŸé›†
- **é›†åˆçš„åˆ’åˆ†å’Œç­‰ä»·ç±»ä¸€ä¸€å¯¹åº”**
- åˆ’åˆ†ã€ç­‰ä»·ç±»åœ¨å…³ç³»å›¾ä¸­çš„ä½“ç°ä¸ºä¸åŒçš„è¿é€šåˆ†é‡

### ç­‰ä»·å…³ç³»è®¡æ•°

- **Bell æ•°**ï¼šğ‘›å…ƒé›†åˆä¸Šç­‰ä»·ç±»çš„ä¸ªæ•°Â [ğŸ”—](https://en.wikipedia.org/wiki/Partition_of_a_set#Counting_partitions)ï¼šğµğ‘›+1=âˆ‘ğ‘˜=0ğ‘›ğ¶(ğ‘›,ğ‘˜)ğµğ‘˜,ğµ0=1,ğµ1=1,ğµ2=2
- æ‰‹ç®—ç±»ä¼¼å¸•æ–¯å¡ä¸‰è§’å½¢ï¼š
    - å°† 1 æ”¾åœ¨å…¶ç¬¬ä¸€ä¸ªä½ç½®
    - æ¯è¡Œä¸‰è§’å½¢ä¸­æœ€å·¦è¾¹çš„å€¼é€šè¿‡å¤åˆ¶ä¸Šä¸€è¡Œä¸­æœ€å³è¾¹çš„å€¼ã€‚æ¯è¡Œä¸­çš„å…¶ä½™ä½ç½®æ˜¯å·¦ä¾§å’Œå·¦ä¸Šæ–¹ä½ç½®çš„ä¸¤ä¸ªå€¼ä¹‹å’Œ
        
        `[](https://oneko.zone/zju/dm/ch9/#__codelineno-0-1)1 - B1 [](https://oneko.zone/zju/dm/ch9/#__codelineno-0-2)1 2 - B2 [](https://oneko.zone/zju/dm/ch9/#__codelineno-0-3)2 3 5 - B3 [](https://oneko.zone/zju/dm/ch9/#__codelineno-0-4)5 7 10 15 - B4 [](https://oneko.zone/zju/dm/ch9/#__codelineno-0-5)15 20 27 37 52 - B5 [](https://oneko.zone/zju/dm/ch9/#__codelineno-0-6)52 67 87 114 151 203 - B6`
        
- ğ‘›Â å…ƒé›†åˆä¸Šåˆ†æˆÂ ğ‘˜Â ä¸ªç­‰ä»·ç±»çš„ä¸ªæ•°ï¼šğ‘†(ğ‘›,ğ‘˜)ï¼Œç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°
    - ğ‘†(ğ‘›,ğ‘˜)=ğ‘†(ğ‘›âˆ’1,ğ‘˜âˆ’1)+ğ‘˜â‹…ğ‘†(ğ‘›âˆ’1,ğ‘˜),ğ‘†(0,0)=1,ğ‘†(ğ‘˜,0)=0(ğ‘˜>0)
    - æ‰‹ç®—å…ˆåˆ†ç»„ï¼Œå†æ±‚ç»„åˆæ•°ã€‚ä¾‹å¦‚Â ğ‘†(5,3)ï¼Œåˆ†ä¸º 2 2 1, 3 1 1ã€‚ç„¶ååˆ†ç»„æ±‚æ’åˆ—ï¼Œå’Œçƒç›’æ¨¡å‹ä¸­çƒä¸ç›¸åŒï¼Œç›’å­ç›¸åŒç­‰ä»·

### Properties

- ğ‘…1,ğ‘…2Â are equivalence relations onÂ ğ´, thenÂ ğ‘…1âˆ©ğ‘…2Â is equivalence relation onÂ ğ´
- ğ‘…1,ğ‘…2Â are equivalence relations onÂ ğ´
    - thenÂ ğ‘…1âˆªğ‘…2Â is reflexive and symmetric,Â **not transitive**
    - (ğ‘…1âˆªğ‘…2)âˆ—Â is equivalence relation onÂ ğ´
- ğ‘…1âŠ•ğ‘…2Â æ°¸è¿œéƒ½ä¸æ˜¯ç­‰ä»·å…³ç³»ï¼Œå› ä¸ºä¸ reflexive

## Partial Orderings

- **Definition**: reflexive &Â **antisymmetric**Â & transitive
- (ğ‘†,ğ‘…): set of partial orderÂ ğ‘…Â on setÂ ğ‘†, called partially ordered set or poset
- ğ‘âª¯ğ‘:(ğ‘†,ğ‘…)is a poset,Â (ğ‘,ğ‘)âˆˆğ‘…
- **Comparable**:Â ğ‘,ğ‘Â ofÂ (ğ‘†,âª¯),Â ğ‘âª¯ğ‘orğ‘âª¯ğ‘
- **Incomparable**:Â ğ‘,ğ‘Â ofÂ (ğ‘†,âª¯), neitherÂ ğ‘âª¯ğ‘Â norÂ ğ‘âª¯ğ‘
- ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ Comparable æ—¶ï¼šğ‘†is called totally ordered or linearly ordered set,Â ğ‘…Â is called linear order (çº¿åº) or total order (å…¨åº),Â (ğ‘†,ğ‘…)Â is called chain (é“¾)
    - æœ‰Â ğ‘›!Â ç§
- ğ‘›Â å…ƒé›†åˆä¸Šçš„ååºè®¡æ•°
    - OEIS A001035Â [ğŸ”—](https://oeis.org/A001035)
    - 1, 3, 19, 219

### Lexicographic Order (å­—å…¸åº)

![pqS637](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/pqS637.png)

### Hasse Diagram (å“ˆæ–¯å›¾)

Example

![sYkJwE](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/sYkJwE.png)

![TfvSdD](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/TfvSdD.png)

![SJ9FZn](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/SJ9FZn.png)

![kwdSOx](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/kwdSOx.png)

### chain and antichain

- **totally ordered setÂ â‡”Â chain (ä»»æ„ä¸¤ä¸ªå…ƒç´ å¯ä»¥æ¯”è¾ƒ)**
- **antichain (ä»»æ„ä¸¤ä¸ªä¸åŒå…ƒç´ éƒ½ä¸å¯æ¯”è¾ƒ)**

![ZMZg22](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/ZMZg22.png)

- ä¾‹å¦‚ 30 çš„å› æ•°æ•´é™¤å…³ç³»ï¼Œ{1,2,6,30}Â æ˜¯ä¸€ä¸ª chainï¼Œ{2,3,5}Â æ˜¯ antichain

### Maximal and Minimal Elements (æå¤§å€¼ã€æå°å€¼)

![diObV8](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/diObV8.png)![VN41kC](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/VN41kC.png)

### Greatest and Least Element (æœ€å¤§å€¼ã€æœ€å°å€¼)

![dBsCxm](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/dBsCxm.png)![h96A4u](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/h96A4u.png)

- æœ€å¤§å€¼ã€æœ€å°å€¼å¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆæ˜¯å”¯ä¸€çš„

### Upper and Lower Bounds (ä¸Šã€ä¸‹ç•Œ)

![CXw1Jo](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/CXw1Jo.png)![VLVfwC](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/VLVfwC.png)

### Least Upper and Greatest Lower Bounds (æœ€å°ä¸Šç•Œã€æœ€å¤§ä¸‹ç•Œ)
![CcNXna](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/CcNXna.png)![FTzo3h](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/FTzo3h.png)

## Well-ordered Sets (è‰¯åºé›†)

![jFAwlW](https://raw.githubusercontent.com/QAQdev/Pics/master/uPic/jFAwlW.png)

- well-orderedÂ â‡’Â totally ordered (è‰¯åºæ¨å…¨åº)

## Lattices (æ ¼)

- æ¯å¯¹å…ƒç´  éƒ½æœ‰Â **æœ€å°ä¸Šç•Œ**Â å’ŒÂ **æœ€å¤§ä¸‹ç•Œ**Â ç§°ä¸ºã€Œæ ¼ã€
- totally orderedÂ â‡’Â æ ¼
- (ğ‘,â‰¥)
- (ğ‘+,âˆ£)Â (glb ä¸ºÂ gcdï¼Œlub ä¸ºÂ lcm)
- (ğ‘ƒ(ğ‘ ),âŠ†)Â (ğ´,ğµâŠ†ğ‘†, glb ä¸ºÂ ğ´âˆ©ğµ, lub ä¸ºÂ ğ´âˆªğµ)
- (ğ‘ƒ(ğ‘ ),âŠ‡)Â (ğ´,ğµâŠ†ğ‘†, glb ä¸ºÂ ğ´âˆªğµ, lub ä¸ºÂ ğ´âˆ©ğµ)
- (ğ‘†,ğ‘…)Â ä¸ºæ ¼ï¼Œåˆ™Â (ğ‘†,ğ‘…âˆ’1)Â ä¹Ÿæ˜¯æ ¼

## Topological Sorting

- ä»ä¸€ä¸ªååºæ„é€ ä¸€ä¸ªå…¨åº
- æ¯æ¬¡æ‰¾ä¸€ä¸ªæå°å…ƒç´ ï¼Œç„¶ååˆ é™¤è¯¥å…ƒç´ å’Œä¸å…¶ç›¸å…³è”çš„å…³ç³»åï¼Œç»§ç»­å¯»æ‰¾æå°å…ƒç´ ï¼Œç›´åˆ°å½¢æˆå…¨åº